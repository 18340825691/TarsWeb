webpackJsonp([1],{"3NoR":function(t,e,n){"use strict";var i=n("Dd8w"),a=n.n(i),o=n("pFYg"),r=n.n(o),l=n("7+uW"),u=n("QpGM"),s=n.n(u),c=(n("XSxf"),n("K/Lq")),h=n.n(c),d=(n("s2Rr"),{name:"Icon",props:{name:{type:String,required:!0}}}),f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{staticClass:"icon"},[e("use",{attrs:{"xlink:href":"#"+this.name}})])},staticRenderFns:[]};var g=n("VU/8")(d,f,!1,function(t){n("tir4")},null,null).exports,p={name:"TarsFormItem",props:{label:String}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("let-form-item",{staticClass:"tars-form-item"},[n("label",{staticClass:"let-form-item__label let-label__position_top clickable",on:{click:function(e){t.$emit("onLabelClick")}}},[t._v(t._s(t.label))]),t._v(" "),t._t("default")],2)},staticRenderFns:[]};var v=n("VU/8")(p,m,!1,function(t){n("YSD2")},null,null).exports,_=n("Z/F5"),w=n.n(_),C=n("aqzs"),b=n.n(C);l.default.use(s.a,{locale:{en:b.a,cn:w.a}[h.a.get("locale")||"cn"]||w.a}),l.default.component(g.name,g),l.default.component(v.name,v);var F=l.default.prototype.$Loading;function $(t){this.el=t,this.loading=null}$.prototype.show=function(t,e){"object"===(void 0===t?"undefined":r()(t))&&(e=t,t=null),this.loading&&this.hide();var n=this.el,i=F(a()({fullScreen:!n,target:n&&t?n.querySelector(t):n,boxClass:"loading-inner",background:"rgba(0,0,0,0)",color:"#fff",size:24},e));return i.show(),this.loading=i,this},$.prototype.hide=function(){return this.loading&&(this.loading.hide(),this.loading=null),this},$.show=function(){var t;return $._loading||($._loading=new $),(t=$._loading).show.apply(t,arguments)},$.hide=function(){return $._loading||($._loading=new $),$._loading.hide()},F.show=$.show,F.hide=$.hide,Object.defineProperty(l.default.prototype,"$loading",{get:function(){return this._loading||(this._loading=new $(this.$el)),this._loading}}),Object.defineProperty(l.default.prototype,"$tip",{get:function(){return this.$Notice}})},"86n0":function(t,e,n){"use strict";var i=n("mvHQ"),a=n.n(i),o=n("//Fk"),r=n.n(o),l=n("Zrlr"),u=n.n(l),s=n("wxAW"),c=n.n(s),h=n("fZjL"),d=n.n(h),f=n("woOf"),g=n.n(f),p=n("pFYg"),m=n.n(p),v=function(t){return"string"==typeof t},_=Array.isArray,w=function(t){return"object"===(void 0===t?"undefined":m()(t))&&null!==t},C=function(t){return"function"==typeof t},b=g.a;function F(t){return String(t).replace(/(?:[\0- "-&\+-\}\x7F-\xA8\xAA-\xAD\xAF-\u2121\u2123-\u23E8\u23F0-\u23F2\u23F4-\u23F7\u23FB-\u24C1\u24C3-\u25B5\u25B7-\u25FF\u27C0-\u2933\u2936-\u2B04\u2B08-\u2B1A\u2B1D-\u2B4F\u2B51-\u2B54\u2B56-\u302F\u3031-\u303C\u303E-\u3296\u3298\u329A-\uD7FF\uE000-\uFFFF]|[\uD800-\uD83B\uD83F-\uDBFF][\uDC00-\uDFFF]|\uD83C[\uDC00-\uDC03\uDC05-\uDCCE\uDCD0-\uDD6F\uDD72-\uDD7D\uDD80-\uDD8D\uDD8F\uDD90\uDE52-\uDEFF]|\uD83D[\uDE50-\uDE7F\uDF00-\uDFFF]|\uD83E[\uDC00-\uDCFF\uDE00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,encodeURIComponent).replace(/ /g,"+").replace(/[!'()~*]/g,function(t){return"%"+t.charCodeAt().toString(16).slice(-2).toUpperCase()})}function $(t){if(!t)return"";var e=[];return d()(t).forEach(function(n){var i=t[n];null!==i&&void 0!==i||(i=""),e.push(F(n)+"="+F(i))}),e.join("&").replace(/%20/g,"+")}function D(t){return $(d()(t).reduce(function(e,n){return function t(e,n,i){return _(i)||w(i)?(d()(i).forEach(function(a){t(e,n+"["+a+"]",i[a])}),e):(e[n]=i,e)}(e,n,t[n])},{}))}var y=function(){function t(e){u()(this,t),this.defaults=e}return c()(t,[{key:"get",value:function(t){return b({},this.defaults,t)}},{key:"set",value:function(t,e){var n=this;if(t){if(v(t)){var i=t.split(".");i.reduce(function(t,n,a){return a===i.length-1&&(t[n]=e),t[n]},this.defaults)}w(t)&&d()(t).forEach(function(e){n.set(e,t[e])}),_(t)&&t.forEach(function(t){return n.set(t,e)})}}},{key:"remove",value:function(t){var e=this;if(t){if(v(t)){var n=t.split(".");n.reduce(function(t,e,i){return i===n.length-1&&delete t[e],t[e]},this.defaults)}_(t)&&t.forEach(function(t){return e.remove(t)})}}}]),t}(),x=function(){function t(e){u()(this,t),this.handler=e}return c()(t,[{key:"set",value:function(t){C(t)&&(this.handler=t)}},{key:"exec",value:function(){C(this.handler)&&this.handler.apply(null,arguments)}}]),t}(),k=new(function(){function t(e){u()(this,t),this.base=e||""}return c()(t,[{key:"set",value:function(t){v(t)&&(this.base=t)}},{key:"get",value:function(t){return this.base+(t||"")}}]),t}()),S=new y({credentials:"same-origin",timeout:1e4}),L=new y({"X-Requested-With":"XMLHttpRequest"}),E=new y({}),O=new x,A=new x(function(){return!0});function j(t,e){var n=$(E.get(e));return n&&(n=-1===t.indexOf("?")?"?"+n:"&"+n),t+n}function q(t){var e=t.status;if(e>=200&&e<300||304===e)return t;throw O.exec(e,t),new Error(t.statusText)}function P(t){return t.json().then(null,function(e){return O.exec(500,t),r.a.reject(e)})}function T(t){return A.handler(t)?t:r.a.reject(t)}function R(t){return r.a.reject(t)}e.a={ServerUrl:k,Options:S,Headers:L,Body:E,StatusHandler:O,ResultHandler:A,get:function(t,e){var n=S.get({headers:L.get()});return fetch(k.get(j(t,e)),n).then(q).then(P).catch(R)},getJSON:function(t,e){var n=S.get({headers:L.get()});return fetch(k.get(j(t,e)),n).then(q).then(P).then(T).catch(R)},post:function(t,e){var n=S.get({method:"POST",headers:L.get({"Content-Type":"application/x-www-form-urlencoded"}),body:D(E.get(e))});return fetch(k.get(t),n).then(q).then(P).then(T).catch(R)},postForm:function(t,e){var n=S.get({method:"POST",headers:L.get(),body:e}),i=E.get({});return d()(i).forEach(function(t){e.append(t,i[t])}),fetch(k.get(t),n).then(q).then(P).then(T).catch(R)},postJSON:function(t,e){var n=S.get({method:"POST",headers:L.get({Accept:"application/json","Content-Type":"application/json"}),body:a()(E.get(e))});return fetch(k.get(t),n).then(q).then(P).then(T).catch(R)},put:function(t,e){var n=S.get({method:"PUT",headers:L.get({"Content-Type":"application/x-www-form-urlencoded"}),body:D(E.get(e))});return fetch(k.get(t),n).then(q).then(P).then(T).catch(R)},remove:function(t,e){var n=S.get({method:"DELETE",headers:L.get()});return fetch(k.get(j(t,e)),n).then(q).then(P).then(T).catch(R)},download:function(t,e){window.open(k.get(j(t,e)))}}},Cp0g:function(t,e,n){"use strict";n.d(e,"a",function(){return c}),n.d(e,"c",function(){return h}),e.b=function(){return new a.a(function(t,e){s.a.getJSON("/api/get_locale").then(function(e){var n=u.a.get("locale");if("[object Object]"==Object.prototype.toString.call(e)){for(var i in e)c.setLocaleMessage(i,e[i]),h.push({localeCode:i,localeName:e[i].localeName,localeMessages:e});n=e[n]?n:"cn",h=e}c.locale=n,t()}).catch(function(t){e(t)})})};var i=n("//Fk"),a=n.n(i),o=n("7+uW"),r=n("TXmL"),l=n("K/Lq"),u=n.n(l),s=n("86n0");o.default.use(r.a),o.default.use(u.a);var c=new r.a({}),h=[]},F4AJ:function(t,e){},Fjry:function(t,e){},Pzoz:function(t,e){},XSxf:function(t,e){},YSD2:function(t,e){},ZZJ4:function(t,e,n){"use strict";var i=n("Cp0g"),a={data:function(){return{locale:this.$cookie.get("locale")||"cn",localeMessages:i.c}},methods:{changeLocale:function(){this.$cookie.set("locale",this.locale,{expires:"1Y"}),location.reload()}}},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("let-select",{ref:"localSelect",attrs:{clearable:!1,size:"small"},on:{change:t.changeLocale},model:{value:t.locale,callback:function(e){t.locale=e},expression:"locale"}},[t._l(t.localeMessages,function(e){return[n("let-option",{attrs:{value:e.localeCode}},[t._v(t._s(e.localeName))])]})],2)],1)},staticRenderFns:[]};var r=n("VU/8")(a,o,!1,function(t){n("F4AJ")},null,null);e.a=r.exports},jdjg:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),a=(n("3NoR"),n("sVYP"),n("ZZJ4")),o={data:function(){return{thisYear:(new Date).getFullYear()}}},r={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"app_index__footer"},[this._v("\n  Copyright Â© "+this._s(this.thisYear)+" BOSS. All Rights Reserved.\n")])},staticRenderFns:[]};var l={name:"App",data:function(){return{enableLogin:!0,uid:"--",userOptOpen:!1}},methods:{getLoginUid:function(){var t=this;this.$ajax.getJSON("/api/getLoginUid").then(function(e){e&&e.uid?t.uid=e.uid:t.uid="***"}).catch(function(e){t.$tip.error(t.$t("login.getUidFailed")+": "+(e.err_msg||e.message))})},checkEnableLogin:function(){var t=this;this.$ajax.getJSON("/api/isEnableLogin").then(function(e){t.enableLogin=e.enableLogin||!1}).catch(function(t){})}},components:{AppFooter:n("VU/8")(o,r,!1,function(t){n("Pzoz")},null,null).exports,localeSelect:a.a},mounted:function(){this.getLoginUid(),this.checkEnableLogin()}},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"main-width",staticStyle:{"margin-top":"20px",height:"60px"}},[n("div",{staticStyle:{float:"right",width:"400px",position:"relative",clear:"both"}},[n("div",{staticClass:"language-wrap"},[n("locale-select")],1),t._v(" "),n("div",{staticClass:"user-wrap"},[n("p",{staticClass:"user-info",on:{click:function(e){t.userOptOpen=!t.userOptOpen}}},[n("span",{staticClass:"name toe"},[t._v(t._s(t.uid)+" ")]),t._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:t.enableLogin,expression:"enableLogin"}],staticClass:"let-icon let-icon-caret-down",class:{up:t.userOptOpen}}),t._v(" "),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.enableLogin&&t.userOptOpen,expression:"enableLogin && userOptOpen"}],staticClass:"user-pop-wrap"},[n("a",{attrs:{href:"/logout"}},[t._v(t._s(t.$t("login.logout")))])])])],1)])])]),t._v(" "),n("keep-alive",[n("router-view",{staticClass:"main-width"})],1),t._v(" "),n("app-footer",{staticClass:"app_index__footer"})],1)},staticRenderFns:[]};var s=n("VU/8")(l,u,!1,function(t){n("Fjry")},null,null).exports,c=n("/ocq"),h={name:"authPage",data:function(){return{query:{flag:"",role:"",uid:""},isCheckedAll:!1,authList:[],spinning:!1,sortField:1,sortRule:0,totalCount:0,page:1,eachPageCount:20,dialogTitle:"",showDialog:!1,dialog:{id:"",flag:"",role:"",uid:""}}},computed:{pageCount:function(){return Math.ceil(this.totalCount/this.eachPageCount)},authListShow:function(){var t=this.authList.slice((this.page-1)*this.eachPageCount,this.page*this.eachPageCount);return this.isCheckedAll=!1,t.forEach(function(t){t.isChecked=!1}),t}},methods:{search:function(){this.getAuthList(this.query.flag,this.query.role,this.query.uid)},getAuthList:function(t,e,n){var i=this,a=this.$Loading.show();this.$ajax.getJSON("/api/auth/page/getAuthList",{flag:t||"",role:e||"",uid:n||""}).then(function(t){a.hide(),t.forEach(function(t){t.isChecked=!1}),i.authList=t,i.totalCount=t.length}).catch(function(t){a.hide(),i.$tip.error(i.$t("auth.loadListError")+": "+(t.err_msg||t.message))})},changePage:function(t){this.page=t},addItem:function(){this.dialogTitle=this.$t("auth.addPrivilege"),this.showDialog=!0,this.dialog.id="",this.dialog.flag="",this.dialog.role="",this.dialog.uid=""},onConfirm:function(){var t=this;if(this.$refs.editForm.validate()){var e=[];(this.dialog.uid?this.dialog.uid.split(/;|,/g):[]).forEach(function(n){n&&e.push({flag:t.dialog.flag,role:t.dialog.role,uid:n})});var n=this.$Loading.show();this.$ajax.postJSON("/api/auth/page/addAuth",{auth:e}).then(function(e){n.hide(),t.showDialog=!1,t.$tip.success(t.dialogTitle+t.$t("common.success")),t.search()}).catch(function(e){n.hide(),t.$tip.error(""+t.dialogTitle+t.$t("common.failed")+": "+(e.err_msg||e.message))})}},onClose:function(){},delItem:function(){var t=this;this.$confirm(this.$t("auth.confirmDelete"),this.$t("common.confirmTitle")).then(function(){var e=[];if(t.authListShow.forEach(function(t){!0===t.isChecked&&e.push(t.id)}),e.length){var n=t.$Loading.show();t.$ajax.postJSON("/api/auth/page/pageDeleteAuth",{id:e}).then(function(e){n.hide(),t.$tip.success(t.$t("auth.delSucc")),t.search()}).catch(function(e){n.hide(),t.$tip.error(t.$t("auth.delError")+": "+(e.err_msg||e.message))})}else t.$tips.error(t.$t("auth.selectRecord"))})}},mounted:function(){this.getAuthList()},watch:{isCheckedAll:function(){var t=this.isCheckedAll;this.authListShow.forEach(function(e){e.isChecked=t})}}},d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{margin:"20px auto"}},[n("div",{staticStyle:{float:"right"}},[n("let-button",{attrs:{size:"small",theme:"primary"},on:{click:t.addItem}},[t._v(t._s(t.$t("auth.addPrivilege")))]),t._v(" "),n("let-button",{attrs:{size:"small",theme:"danger"},on:{click:t.delItem}},[t._v(t._s(t.$t("auth.delPrivilege")))])],1),t._v(" "),n("let-form",{attrs:{inline:"",itemWidth:"200px"},nativeOn:{submit:function(e){return e.preventDefault(),t.search(e)}}},[n("let-form-item",{attrs:{label:t.$t("auth.flag")}},[n("let-input",{attrs:{size:"small"},model:{value:t.query.flag,callback:function(e){t.$set(t.query,"flag",e)},expression:"query.flag"}})],1),t._v(" "),n("let-form-item",{attrs:{label:t.$t("auth.role")}},[n("let-input",{attrs:{size:"small"},model:{value:t.query.role,callback:function(e){t.$set(t.query,"role",e)},expression:"query.role"}})],1),t._v(" "),n("let-form-item",{attrs:{label:"uid"}},[n("let-input",{attrs:{size:"small"},model:{value:t.query.uid,callback:function(e){t.$set(t.query,"uid",e)},expression:"query.uid"}})],1),t._v(" "),n("let-form-item",[n("let-button",{attrs:{size:"small",type:"submit",theme:"primary"}},[t._v(t._s(t.$t("common.search")))])],1)],1),t._v(" "),n("let-table",{attrs:{data:t.authListShow,stripe:"","empty-msg":t.$t("common.nodata"),title:t.$t("auth.privilegeManageTitle")}},[n("let-table-column",{attrs:{width:"2%"},scopedSlots:t._u([{key:"head",fn:function(e){return[n("let-checkbox",{model:{value:t.isCheckedAll,callback:function(e){t.isCheckedAll=e},expression:"isCheckedAll"}})]}},{key:"default",fn:function(e){return[n("let-checkbox",{attrs:{value:e.row.id},model:{value:e.row.isChecked,callback:function(n){t.$set(e.row,"isChecked",n)},expression:"scope.row.isChecked"}})]}}])}),t._v(" "),n("let-table-column",{attrs:{title:t.$t("auth.flag"),prop:"flag",width:"15%"}}),t._v(" "),n("let-table-column",{attrs:{title:t.$t("auth.role"),prop:"role",width:"20%"}}),t._v(" "),n("let-table-column",{attrs:{title:t.$t("auth.uid"),prop:"uid",width:"20%"}}),t._v(" "),t.pageCount>0?n("let-pagination",{attrs:{slot:"pagination",align:"right","prev-text":t.$t("common.prevPage"),"next-text":t.$t("common.nextPage"),total:t.pageCount,page:t.page},on:{change:t.changePage},slot:"pagination"}):t._e()],1),t._v(" "),n("let-modal",{attrs:{title:t.dialogTitle,width:"600px"},on:{"on-cancel":t.onClose,"on-confirm":t.onConfirm},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[n("div",[n("let-form",{ref:"editForm",attrs:{itemWidth:"100%"}},[n("let-input",{attrs:{type:"hidden"},model:{value:t.dialog.id,callback:function(e){t.$set(t.dialog,"id",e)},expression:"dialog.id"}}),t._v(" "),n("let-form-item",{attrs:{label:t.$t("auth.flag")}},[n("let-input",{attrs:{size:"small",required:"","required-tip":t.$t("auth.flagTips")},model:{value:t.dialog.flag,callback:function(e){t.$set(t.dialog,"flag",e)},expression:"dialog.flag"}})],1),t._v(" "),n("let-form-item",{attrs:{label:t.$t("auth.role")}},[n("let-input",{attrs:{size:"small",required:"","required-tip":t.$t("auth.roleTips")},model:{value:t.dialog.role,callback:function(e){t.$set(t.dialog,"role",e)},expression:"dialog.role"}})],1),t._v(" "),n("let-form-item",{attrs:{label:t.$t("auth.uid")}},[n("let-input",{attrs:{size:"small",required:"","required-tip":t.$t("auth.uidTips"),placeholder:t.$t("auth.uidPlaceholder")},model:{value:t.dialog.uid,callback:function(e){t.$set(t.dialog,"uid",e)},expression:"dialog.uid"}})],1)],1)],1)])],1)},staticRenderFns:[]};var f=n("VU/8")(h,d,!1,function(t){n("tauy")},null,null).exports;i.default.use(c.a);var g=new c.a({routes:[{path:"/",name:"AuthManage",component:f}]}),p=n("Cp0g");i.default.config.productionTip=!1,p.b.call(this).then(function(){new i.default({el:"#auth-app",router:g,i18n:p.a,components:{App:s},template:"<App/>"})})},s2Rr:function(t,e){},sVYP:function(t,e,n){"use strict";var i=n("rplX"),a=(n.n(i),n("7+uW")),o=n("86n0");o.a.ResultHandler.set(function(t){return!(!t||200!==t.ret_code||null==t.data)}),["getJSON","postJSON"].forEach(function(t){var e=o.a[t];o.a["_"+t]=e,o.a[t]=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.call.apply(e,[null].concat(n)).then(function(t){return t.data})}}),Object.defineProperty(a.default.prototype,"$ajax",{get:function(){return o.a}})},tauy:function(t,e){},tir4:function(t,e){}},["jdjg"]);